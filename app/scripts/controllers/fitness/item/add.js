// Generated by CoffeeScript 1.6.3
(function() {
  'use strict';
  var controller;

  controller = function(scope, ParseCrud) {
    var Items, ItemsRepo, error, success;
    Items = new ParseCrud('Items');
    ItemsRepo = new ParseCrud('ItemsRepo', false);
    scope.error = scope.success = '';
    scope.model = {};
    scope.model.isPublic = false;
    success = function(res) {
      console.log(res);
      return scope.$apply(function() {
        scope.success = 'Saved successfully.';
        if (scope.model.isPublic) {
          scope.model.isPublic = false;
          ItemsRepo.save(scope.model, success, error);
        }
        scope.model.name = '';
        return scope.model.brief = '';
      });
    };
    error = function(e) {
      console.log(e);
      return scope.$apply(function() {
        return scope.success = 'Error occured';
      });
    };
    return scope.save = function(form) {
      return Items.save(scope.model, success, error);
    };
  };

  angular.module('manageApp').controller('FitnessItemAddCtrl', ['$scope', 'ParseCrud', controller]);

}).call(this);

/*
//@ sourceMappingURL=add.map
*/
